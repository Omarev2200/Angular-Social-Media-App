<div class="container">
  <section
    class="create-post-section"
    fxFlex
    fxLayout="column"
    fxLayoutGap="15px"
    fxLayoutAlign="center"
  >
    <h2 fxLayoutAlign="center">Create post</h2>
    <form
      #createFormInput="ngForm"
      (ngSubmit)="
        createPost(
          createFormInput.value.title,
          createFormInput.value.description
        )
      "
      fxLayout="column"
    >
      <mat-form-field class="example-full-width">
        <input
          matInput
          ngModel
          id="title"
          type="text"
          name="title"
          required
          placeholder="Title"
        />
      </mat-form-field>
      <mat-form-field class="example-full-width">
        <textarea
          matInput
          ngModel
          required
          name="description"
          id="description"
          cols="30"
          rows="10"
          placeholder="Description"
        ></textarea>
      </mat-form-field>

      <button
        class="btn-sign-up"
        mat-raised-button
        color="primary"
        [disabled]="createFormInput.invalid"
      >
        Submit
      </button>
    </form>

    <div class="upload" fxFlex>
      <input
        class="upload-input"
        id="upload"
        type="file"
        color="primary"
        (change)="detectFiles($event)"
        fxFlex
        fxFlexAlign="start"
      />

      <button
        type="button"
        mat-button
        color="primary"
        (click)="uploadSingle()"
        fxFlex
        fxFlexAlign="end"
      >
        <mat-icon>file_upload</mat-icon>
        Upload
      </button>
    </div>
    <div
      *ngIf="currentUpload?.name"
      [ngClass]="{ 'upload-msg': currentUpload?.name }"
    >
      <p>
        File {{ currentUpload?.name }} was upload successfully :
        {{ currentUpload?.progress }}%
      </p>
    </div>
  </section>
</div>
